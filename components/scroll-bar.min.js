"use strict";const ScrollBar=function(o={}){const l=startBox();l.props({scrollableBox:null,bar_border:0,bar_round:3,bar_borderColor:"rgba(0, 0, 0, 1)",bar_width:4,bar_mouseOverWidth:8,bar_mouseOverColor:"#141414",bar_opacity:.6,bar_mouseOverOpacity:.6,bar_padding:2,bar_color:"#141414",neverHide:0},o);let e=null;const r=function(){l.setTimeoutVar&&clearTimeout(l.setTimeoutVar),l.setTimeoutVar=setTimeout((function(){1==l.mouseMoving?r():0==l.neverHide&&(l.boxScrollBarTop.opacity=0)}),4e3)};l.refreshScroll=function(){l.scrollableBox.containerBox.add(l),l.width=l.scrollableBox.width,l.height=l.scrollableBox.height,l.aline(l.scrollableBox);const o=l.scrollableBox.elem.scrollLeft,e=l.scrollableBox.elem.clientWidth,c=l.scrollableBox.elem.scrollWidth,t=e/c;l.boxScrollBarLeft.left=o*t+2*l.bar_width,l.boxScrollBarLeft.width=e*t-4*l.bar_width,c==e||0==l.scrollableBox.scrollX?0!=l.neverHide&&c!=e||(l.boxScrollBarLeft.visible=0):1==l.scrollableBox.scrollX&&(l.boxScrollBarLeft.visible=1);const a=l.scrollableBox.elem.scrollTop,i=l.scrollableBox.elem.clientHeight,s=l.scrollableBox.elem.scrollHeight,b=i/s;l.boxScrollBarTop.top=a*b+2*l.bar_width,l.boxScrollBarTop.height=i*b-4*l.bar_width,s==i||0==l.scrollableBox.scrollY?0!=l.neverHide&&s!=i||(l.boxScrollBarTop.visible=0):1==l.scrollableBox.scrollY&&(l.boxScrollBarTop.visible=1),r()};const c=function(o){l.mouseMoving=1;const e=l.scrollableBox.elem.clientWidth,c=l.scrollableBox.elem.scrollWidth/e;if(0!=l.mouseX&&1==l.boxScrollBarLeft.clicked){const e=o.clientX-l.mouseX;l.scrollableBox.elem.scrollLeft+=e*c}const t=l.scrollableBox.elem.clientHeight,a=l.scrollableBox.elem.scrollHeight/t;if(0!=l.mouseY&&1==l.boxScrollBarTop.clicked){const e=o.clientY-l.mouseY;l.scrollableBox.elem.scrollTop+=e*a}l.mouseX=o.clientX,l.mouseY=o.clientY,r()};l.publicFunc=()=>{},l.setColor=o=>{l.color=o},l.color="transparent",l.setMotion("opacity 0.2s"),l.boxScrollBarTop=Box({right:l.bar_padding,border:l.bar_border,borderColor:l.bar_borderColor,round:l.bar_round,width:l.bar_width,color:l.bar_color,opacity:l.bar_opacity}),l.boxScrollBarTop.setMotion("width 0.2s, opacity 0.5s"),l.boxScrollBarLeft=Box({bottom:l.bar_padding,border:l.bar_border,borderColor:l.bar_borderColor,round:l.bar_round,height:l.bar_width,color:l.bar_color,opacity:l.bar_opacity}),l.boxScrollBarLeft.setMotion("height 0.2s, opacity 0.5s"),endBox(),l.refreshScroll(),l.scrollableBox.onResize(l.refreshScroll),l.scrollableBox.elem.addEventListener("scroll",l.refreshScroll),l.boxScrollBarTop.clickable=1,l.boxScrollBarLeft.clickable=1,l.boxScrollBarTop.elem.style.cursor="default",l.boxScrollBarLeft.elem.style.cursor="default";const t=function(){l.boxScrollBarTop.width=l.bar_width,l.boxScrollBarTop.color=l.bar_color,l.boxScrollBarTop.opacity=l.bar_opacity};l.boxScrollBarTop.elem.addEventListener("mouseover",(function(o){l.boxScrollBarTop.width=l.bar_mouseOverWidth,l.boxScrollBarTop.color=l.bar_mouseOverColor,l.boxScrollBarTop.opacity=l.bar_mouseOverOpacity})),l.boxScrollBarTop.elem.addEventListener("mouseout",(function(o){1!=l.boxScrollBarTop.clicked&&(t(),r())}));const a=function(){l.boxScrollBarLeft.height=l.bar_width,l.boxScrollBarLeft.color=l.bar_color,l.boxScrollBarLeft.opacity=l.bar_opacity};l.boxScrollBarLeft.elem.addEventListener("mouseover",(function(o){l.boxScrollBarLeft.height=l.bar_mouseOverWidth,l.boxScrollBarLeft.color=l.bar_mouseOverColor,l.boxScrollBarLeft.opacity=l.bar_mouseOverOpacity})),l.boxScrollBarLeft.elem.addEventListener("mouseout",(function(o){1!=l.boxScrollBarLeft.clicked&&(a(),r())})),l.scrollableBox.elem.addEventListener("mouseover",(function(o){l.boxScrollBarTop.opacity=l.bar_opacity,l.boxScrollBarLeft.opacity=l.bar_opacity,r()})),l.scrollableBox.elem.addEventListener("mouseleave",(function(o){l.mouseDownForScrolling=0,r()}));const i=function(){l.mouseX=0,l.mouseY=0,e=Box(0,0,"100%","100%",{color:"transparent",clickable:1}),that.elem.style.cursor="grabbing",page.add(that),e.elem.addEventListener("mousemove",c);const o=function(){l.mouseMoving=0,l.boxScrollBarLeft.clicked=0,l.boxScrollBarTop.clicked=0,r(),t(),a(),e.remove()};e.elem.addEventListener("mouseup",(function(l){o()})),e.elem.addEventListener("mouseleave",(function(l){o()}))};l.boxScrollBarTop.elem.addEventListener("mousedown",(function(o){l.boxScrollBarTop.clicked=1,i()})),l.boxScrollBarLeft.elem.addEventListener("mousedown",(function(o){l.boxScrollBarLeft.clicked=1,i()}));const s=l.scrollableBox.elem;let b=s.scrollHeight;return new MutationObserver((o=>{o.forEach((o=>{b!==s.scrollHeight&&(l.refreshScroll(),b=s.scrollHeight)}))})).observe(s,{childList:!0,subtree:!0,characterData:!0}),makeBasicObject(l),l};