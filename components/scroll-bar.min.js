"use strict";const ScrollBar=function(o={}){const e=startBox();e.props({scrollableBox:null,bar_border:0,bar_round:3,bar_borderColor:"rgba(0, 0, 0, 1)",bar_width:4,bar_mouseOverWidth:8,bar_mouseOverColor:"#141414",bar_opacity:.6,bar_mouseOverOpacity:.6,bar_padding:2,bar_color:"#141414",scrollOnContent:1},o);const l=function(){e.setTimeoutVar&&clearTimeout(e.setTimeoutVar),e.setTimeoutVar=setTimeout((function(){1==e.mouseMoving?l():e.boxScrollBarTop.opacity=0}),4e3)};e.refreshScroll=function(){e.scrollableBox.containerBox.add(e),e.width=e.scrollableBox.width,e.height=e.scrollableBox.height,e.aline(e.scrollableBox);const o=e.scrollableBox.elem.scrollLeft,r=e.scrollableBox.elem.clientWidth,c=e.scrollableBox.elem.scrollWidth,t=r/c;e.boxScrollBarLeft.left=o*t+2*e.bar_width,e.boxScrollBarLeft.width=r*t-4*e.bar_width,c==r||0==e.scrollableBox.scrollX?e.boxScrollBarLeft.visible=0:1==e.scrollableBox.scrollX&&(e.boxScrollBarLeft.visible=1);const a=e.scrollableBox.elem.scrollTop,s=e.scrollableBox.elem.clientHeight,i=e.scrollableBox.elem.scrollHeight,b=s/i;e.boxScrollBarTop.top=a*b+2*e.bar_width,e.boxScrollBarTop.height=s*b-4*e.bar_width,i==s||0==e.scrollableBox.scrollY?e.boxScrollBarTop.visible=0:1==e.scrollableBox.scrollY&&(e.boxScrollBarTop.visible=1),l()};const r=function(o){if(e.mouseMoving=1,0!=e.mouseX&&1==e.boxScrollBarLeft.visible){const l=o.clientX-e.mouseX;e.scrollableBox.elem.scrollLeft+=-1*l}if(0!=e.mouseY&&1==e.boxScrollBarTop.visible){const l=o.clientY-e.mouseY;e.scrollableBox.elem.scrollTop+=-1*l}e.mouseX=o.clientX,e.mouseY=o.clientY,l()},c=function(o){e.mouseMoving=1;const r=e.scrollableBox.elem.clientWidth,c=e.scrollableBox.elem.scrollWidth/r;if(0!=e.mouseX&&1==e.boxScrollBarLeft.clicked){const l=o.clientX-e.mouseX;e.scrollableBox.elem.scrollLeft+=l*c}const t=e.scrollableBox.elem.clientHeight,a=e.scrollableBox.elem.scrollHeight/t;if(0!=e.mouseY&&1==e.boxScrollBarTop.clicked){const l=o.clientY-e.mouseY;e.scrollableBox.elem.scrollTop+=l*a}e.mouseX=o.clientX,e.mouseY=o.clientY,l()};return e.publicFunc=()=>{},e.setColor=o=>{e.color=o},e.color="transparent",e.setMotion("opacity 0.2s"),e.boxScrollBarTop=Box({right:e.bar_padding,border:e.bar_border,borderColor:e.bar_borderColor,round:e.bar_round,width:e.bar_width,color:e.bar_color,opacity:e.bar_opacity}),e.boxScrollBarTop.setMotion("width 0.2s, opacity 0.5s"),e.boxScrollBarLeft=Box({bottom:e.bar_padding,border:e.bar_border,borderColor:e.bar_borderColor,round:e.bar_round,height:e.bar_width,color:e.bar_color,opacity:e.bar_opacity}),e.boxScrollBarLeft.setMotion("height 0.2s, opacity 0.5s"),endBox(),e.refreshScroll(),e.scrollableBox.onResize(e.refreshScroll),e.scrollableBox.elem.addEventListener("scroll",e.refreshScroll),e.boxScrollBarTop.clickable=1,e.boxScrollBarLeft.clickable=1,e.boxScrollBarTop.elem.style.cursor="default",e.boxScrollBarLeft.elem.style.cursor="default",e.boxScrollBarTop.elem.addEventListener("mouseover",(function(o){e.boxScrollBarTop.width=e.bar_mouseOverWidth,e.boxScrollBarTop.color=e.bar_mouseOverColor,e.boxScrollBarTop.opacity=e.bar_mouseOverOpacity})),e.boxScrollBarTop.elem.addEventListener("mouseout",(function(o){e.boxScrollBarTop.width=e.bar_width,e.boxScrollBarTop.color=e.bar_color,e.boxScrollBarTop.opacity=e.bar_opacity,l()})),e.boxScrollBarLeft.elem.addEventListener("mouseover",(function(o){e.boxScrollBarLeft.height=e.bar_mouseOverWidth,e.boxScrollBarLeft.color=e.bar_mouseOverColor,e.boxScrollBarLeft.opacity=e.bar_mouseOverOpacity})),e.boxScrollBarLeft.elem.addEventListener("mouseout",(function(o){e.boxScrollBarLeft.height=e.bar_width,e.boxScrollBarLeft.color=e.bar_color,e.boxScrollBarLeft.opacity=e.bar_opacity,l()})),e.scrollableBox.elem.addEventListener("mouseover",(function(o){e.boxScrollBarTop.opacity=e.bar_opacity,e.boxScrollBarLeft.opacity=e.bar_opacity,l()})),e.scrollableBox.elem.addEventListener("mouseleave",(function(o){e.mouseDownForScrolling=0,l()})),1==e.scrollOnContent&&(e.scrollableBox.elem.addEventListener("mousedown",(function(o){e.mouseDownForScrolling=1,e.elem.style.cursor="grabbing"})),e.scrollableBox.elem.addEventListener("mouseup",(function(o){e.mouseDownForScrolling=0,e.elem.style.cursor="default",e.boxScrollBarTop.elem.style.cursor="default",e.boxScrollBarLeft.elem.style.cursor="default"})),e.scrollableBox.elem.addEventListener("mousemove",(function(o){1==e.mouseDownForScrolling&&(e.mouseX=0,e.mouseY=0,setTimeout((function(){e.clickable=1}),20),e.elem.addEventListener("mousemove",r),e.mouseDownForScrolling=0)}))),e.boxScrollBarTop.elem.addEventListener("mousedown",(function(o){e.mouseX=0,e.mouseY=0,e.clickable=1,e.boxScrollBarTop.clicked=1,e.elem.style.cursor="grabbing",e.boxScrollBarTop.elem.style.cursor="grabbing",e.elem.addEventListener("mousemove",c)})),e.boxScrollBarLeft.elem.addEventListener("mousedown",(function(o){e.mouseX=0,e.mouseY=0,e.clickable=1,e.boxScrollBarLeft.clicked=1,e.elem.style.cursor="grabbing",e.boxScrollBarLeft.elem.style.cursor="grabbing",e.elem.addEventListener("mousemove",c)})),e.elem.addEventListener("mouseup",(function(o){e.mouseMoving=0,e.elem.removeEventListener("mousemove",c),e.elem.removeEventListener("mousemove",r),e.boxScrollBarLeft.clicked=0,e.boxScrollBarTop.clicked=0,e.clickable=0,e.elem.style.cursor="default",e.boxScrollBarTop.elem.style.cursor="default",e.boxScrollBarLeft.elem.style.cursor="default",l()})),e.elem.addEventListener("mouseleave",(function(o){e.mouseMoving=0,e.elem.removeEventListener("mousemove",c),e.elem.removeEventListener("mousemove",r),e.boxScrollBarLeft.clicked=0,e.boxScrollBarTop.clicked=0,e.clickable=0,e.elem.style.cursor="default",e.boxScrollBarTop.elem.style.cursor="default",e.boxScrollBarLeft.elem.style.cursor="default",l()})),makeBasicObject(e),e};